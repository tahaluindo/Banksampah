function mobileNav(){var t=$(window).width();$(".submenu").on("click",function(){t<992&&($(".submenu ul").removeClass("active"),$(this).find("ul").toggleClass("active"))})}function getKategoriArtikel(){$("#activity").removeClass("none"),axios.get(`${APIURL}/artikel/getkategori`).then(t=>{let e=t.data.data.filter(t=>"1"==t.kategori_utama);e.length<3?$("#activity").addClass("none"):$(".card-activity").each(function(t){$(".features-item").addClass("card-shadow"),$(".features-item").removeClass("skeleton"),$(this).find(".icon").attr("src",e[t].icon),$(this).find(".name").html(e[t].name),$(this).find(".description").html(e[t].description),$(this).find(".button").html(`\n\t\t\t\t\t<a href="${BASEURL}/homepage/${e[t].name}" class="main-button">\n\t\t\t\t\t\tRead More\n\t\t\t\t\t</a>\n\t\t\t\t`)})}).catch(t=>{$("#activity").addClass("none")})}function getMitra(){$("#mitra").removeClass("node"),axios.get(`${APIURL}/mitra/getmitra`).then(t=>{let e="";t.data.data.forEach(t=>{e+=`<div class="col-12 col-sm-6 col-md-4 mb-5 h-100">\n\t\t\t\t<div class="card h-100" style="display:flex;flex-direction:column;justify-content:center;align-items:center;border:none;">\n\t\t\t\t\t<img src="${t.icon}" style="width:60%;"/>\n\t\t\t\t</div>\n\t\t\t</div>`}),$("#container-mitra").html(e)}).catch(t=>{$("#mitra").addClass("none")})}function doValidate(){let t=!0,e=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return $(".form-control").removeClass("is-invalid"),$(".error-message").html(""),""==$("#contact-name").val()?($("#contact-name").addClass("is-invalid"),$("#contact-name-error").html("*nama harus di isi"),t=!1):$("#contact-name").val().length>20&&($("#contact-name").addClass("is-invalid"),$("#contact-name-error").html("*lebih dari 20 huruf"),t=!1),""==$("#contact-email").val()?($("#contact-email").addClass("is-invalid"),$("#contact-email-error").html("*email harus di isi"),t=!1):e.test(String($("#contact-email").val()).toLowerCase())||($("#contact-email").addClass("is-invalid"),$("#contact-email-error").html("*email tidak valid"),t=!1),""==$("#contact-message").val()&&($("#contact-message").addClass("is-invalid"),$("#contact-message-error").html("*pesan harus di isi"),t=!1),t}$(window).scroll(function(){var t=$(window).scrollTop(),e=$(".header-text").height(),a=$("header").height();t>=e-a?$("header").addClass("background-header"):$("header").removeClass("background-header")}),mobileNav(),window.sr=new scrollReveal,$(".menu-trigger").length&&$(".menu-trigger").on("click",function(){$(this).toggleClass("active"),$(".header-area .nav").slideToggle(200)}),$("a[href*=\\#]:not([href=\\#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=this.hash,e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length){var a=$(window).width();return a<991&&($(".menu-trigger").removeClass("active"),$(".header-area .nav").slideUp(200)),$("html,body").animate({scrollTop:e.offset().top},700,"swing",function(){window.location.hash=t}),!1}}}),$(document).ready(function(){$('a[href^="#welcome"]').addClass("active"),$(".menu-item").on("click",function(t){if("penghargaan"!==$(this).html().toLowerCase()){t.preventDefault();var e=this,a=this.hash,n=$(a);$("html, body").stop().animate({scrollTop:n.offset().top},500,"swing",function(){window.location.hash=a,$(".menu-item").removeClass("active"),$(e).addClass("active")})}}),$(window).scroll(function(t){var e=$(document).scrollTop()+80;0!==e?$(".menu-item").not('[href=""]').not('[href="javascript:;"]').each(function(){var t=$(this),a=$(t.attr("href"));a.position().top<=e&&a.position().top+a.height()>e?($(".menu-item").removeClass("active"),t.addClass("active")):t.removeClass("active")}):$('a[href^="#welcome"]').addClass("active")})});const Accordion={settings:{first_expanded:!1,toggle:!1},openAccordion:function(t,e){if(e.children.length){t.classList.add("is-open");let a=Math.floor(e.children[0].offsetHeight);e.style.height=a+"px"}},closeAccordion:function(t,e){t.classList.remove("is-open"),e.style.height=0},init:function(t){const e=this;let a=e.settings.first_expanded;t.classList.contains("is-first-expanded")&&(a=!0);let n=e.settings.toggle;t.classList.contains("is-toggle")&&(n=!0);const i=t.getElementsByClassName("accordion"),o=t.getElementsByClassName("accordion-head"),s=t.getElementsByClassName("accordion-body");for(let t=0;t<i.length;t++){i[t];const c=o[t],r=s[t];c.addEventListener("click",function(t){if(n)c.classList.contains("is-open")?e.closeAccordion(c,r):e.openAccordion(c,r);else{for(let t=0;t<s.length;t++)e.closeAccordion(o[t],s[t]);e.openAccordion(c,r)}}),0===t&&a&&e.openAccordion(c,r)}}};(function(){const t=document.getElementsByClassName("accordions");for(let e=0;e<t.length;e++)Accordion.init(t[e])})(),$(".home-seperator").length&&$(".home-seperator .left-item, .home-seperator .right-item").imgfix(),$(".count-item").length&&$(".count-item strong").counterUp({delay:10,time:1e3}),$(window).on("load",function(){$(".cover").length&&$(".cover").parallax({imageSrc:$(".cover").data("image"),zIndex:"1"}),$("#preloader").animate({opacity:"0"},600,function(){setTimeout(function(){$("#preloader").css("visibility","hidden").fadeOut()},300)})}),$(window).on("resize",function(){mobileNav()}),$(function(){$("input, select").on("focus",function(){$(this).parent().find(".input-group-text").css("border-color","#80bdff")}),$("input, select").on("blur",function(){$(this).parent().find(".input-group-text").css("border-color","#ced4da")})}),axios.get(APIURL+"/transaksi/sampahmasuk").then(t=>{let e=t.data.data;for(const t in e)$(`#sampah-${t.replace(/\s/g,"-")}`).html(parseFloat(e[t].total).toFixed(1));counterUp()}).catch(t=>{});let counterUp=()=>{$(".counter-value").each(function(){$(this).prop("Counter",0).animate({Counter:$(this).text()},{duration:3500,easing:"swing",step:function(t){$(this).text(Math.ceil(t))}})})};getKategoriArtikel(),getMitra(),setTimeout(()=>{let t=document.querySelectorAll(".eapps-link");t.forEach(t=>{t.remove()})},3e3),$("#contact").on("submit",function(t){if(t.preventDefault(),doValidate()){showLoadingSpinner();let e=new FormData(t.target);axios.post(`${APIURL}/nasabah/sendkritik`,e,{headers:{}}).then(t=>{hideLoadingSpinner(),$("#contact-name").val(""),$("#contact-email").val(""),$("#contact-message").val(""),setTimeout(()=>{Swal.fire({icon:"success",title:"Success",text:"Pesan Telah Terkirim",showConfirmButton:!1,timer:2e3})},500)}).catch(t=>{hideLoadingSpinner(),500==t.response.status&&showAlert({message:"<strong>Ups . . .</strong> terjadi kesalahan pada server, coba sekali lagi",autohide:!0,type:"danger"})})}}),document.querySelectorAll("#badges-wraper a").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();let e=t.target.parentElement.getAttribute("href");""!=e?window.open(e,"_blank"):Swal.fire({title:"Maaf, link belum tersedia",iconHtml:`<img src="${BASEURL}/assets/images/cukupbaik.svg" style="width: 120px;">`,showCloseButton:!1,showCancelButton:!0,showConfirmButton:!1,focusConfirm:!1,cancelButtonText:"tutup"})})});